\documentclass[11pt, one side, article]{memoir}


\settrims{0pt}{0pt} % page and stock same size
\settypeblocksize{*}{35.5pc}{*} % {height}{width}{ratio}
\setlrmargins{*}{*}{1} % {spine}{edge}{ratio}
\setulmarginsandblock{.98in}{.98in}{*} % height of typeblock computed
\setheadfoot{\onelineskip}{2\onelineskip} % {headheight}{footskip}
\setheaderspaces{*}{1.5\onelineskip}{*} % {headdrop}{headsep}{ratio}
\checkandfixthelayout


\usepackage{amsthm}
\usepackage{mathtools}

\usepackage[inline]{enumitem}
\usepackage{ifthen}
\usepackage[utf8]{inputenc} %allows non-ascii in bib file
\usepackage{xcolor}

\usepackage[backend=biber, backref=true, maxbibnames = 10, style = alphabetic]{biblatex}
\usepackage[bookmarks=true, colorlinks=true, linkcolor=blue!50!black,
citecolor=orange!50!black, urlcolor=orange!50!black, pdfencoding=unicode]{hyperref}
\usepackage[capitalize]{cleveref}

\usepackage{tikz}

\usepackage{amssymb}
\usepackage{newpxtext}
\usepackage[varg,bigdelims]{newpxmath}
\usepackage{mathrsfs}
\usepackage{dutchcal}
\usepackage{fontawesome}
\usepackage{ebproof}
\usepackage{stmaryrd}


% cleveref %
  \newcommand{\creflastconjunction}{, and\nobreakspace} % serial comma
  \crefformat{enumi}{\card#2#1#3}
  \crefalias{chapter}{section}


% biblatex %
  \addbibresource{Library20220131.bib} 

% hyperref %
  \hypersetup{final}

% enumitem %
  \setlist{nosep}
  \setlistdepth{6}



% tikz %



  \usetikzlibrary{ 
  	cd,
  	math,
  	decorations.markings,
		decorations.pathreplacing,
  	positioning,
  	arrows.meta,
  	shapes,
		shadows,
		shadings,
  	calc,
  	fit,
  	quotes,
  	intersections,
    circuits,
    circuits.ee.IEC
  }
  
  \tikzset{
biml/.tip={Glyph[glyph math command=triangleleft, glyph length=.95ex]},
bimr/.tip={Glyph[glyph math command=triangleright, glyph length=.95ex]},
}

\tikzset{
	tick/.style={postaction={
  	decorate,
    decoration={markings, mark=at position 0.5 with
    	{\draw[-] (0,.4ex) -- (0,-.4ex);}}}
  }
} 
\tikzset{
	slash/.style={postaction={
  	decorate,
    decoration={markings, mark=at position 0.5 with
    	{\draw[-] (.3ex,.3ex) -- (-.3ex,-.3ex);}}}
  }
} 

\newcommand{\upp}{\begin{tikzcd}[row sep=6pt]~\\~\ar[u, bend left=50pt, looseness=1.3, start anchor=east, end anchor=east]\end{tikzcd}}

\newcommand{\bito}[1][]{
	\begin{tikzcd}[ampersand replacement=\&, cramped]\ar[r, biml-bimr, "#1"]\&~\end{tikzcd}  
}
\newcommand{\bifrom}[1][]{
	\begin{tikzcd}[ampersand replacement=\&, cramped]\ar[r, bimr-biml, "{#1}"]\&~\end{tikzcd}  
}
\newcommand{\bifromlong}[2][]{
	\begin{tikzcd}[ampersand replacement=\&, column sep=#2, cramped]\ar[r, bimr-biml, "#1"]\&~\end{tikzcd}  
}

% Adjunctions
\newcommand{\adj}[5][30pt]{%[size] Cat L, Left, Right, Cat R.
\begin{tikzcd}[ampersand replacement=\&, column sep=#1]
  #2\ar[r, shift left=7pt, "#3"]
  \ar[r, phantom, "\scriptstyle\Rightarrow"]\&
  #5\ar[l, shift left=7pt, "#4"]
\end{tikzcd}
}

\newcommand{\adjr}[5][30pt]{%[size] Cat R, Right, Left, Cat L.
\begin{tikzcd}[ampersand replacement=\&, column sep=#1]
  #2\ar[r, shift left=7pt, "#3"]\&
  #5\ar[l, shift left=7pt, "#4"]
  \ar[l, phantom, "\scriptstyle\Leftarrow"]
\end{tikzcd}
}

\newcommand{\xtickar}[1]{\begin{tikzcd}[baseline=-0.5ex,cramped,sep=small,ampersand 
replacement=\&]{}\ar[r,tick, "{#1}"]\&{}\end{tikzcd}}
\newcommand{\xslashar}[1]{\begin{tikzcd}[baseline=-0.5ex,cramped,sep=small,ampersand 
replacement=\&]{}\ar[r,tick, "{#1}"]\&{}\end{tikzcd}}



  
  % amsthm %
\theoremstyle{definition}
\newtheorem{definitionx}{Definition}[chapter]
\newtheorem{examplex}[definitionx]{Example}
\newtheorem{remarkx}[definitionx]{Remark}
\newtheorem{notation}[definitionx]{Notation}


\theoremstyle{plain}

\newtheorem{theorem}[definitionx]{Theorem}
\newtheorem{proposition}[definitionx]{Proposition}
\newtheorem{corollary}[definitionx]{Corollary}
\newtheorem{lemma}[definitionx]{Lemma}
\newtheorem{warning}[definitionx]{Warning}
\newtheorem*{theorem*}{Theorem}
\newtheorem*{proposition*}{Proposition}
\newtheorem*{corollary*}{Corollary}
\newtheorem*{lemma*}{Lemma}
\newtheorem*{warning*}{Warning}
%\theoremstyle{definition}
%\newtheorem{definition}[theorem]{Definition}
%\newtheorem{construction}[theorem]{Construction}

\newenvironment{example}
  {\pushQED{\qed}\renewcommand{\qedsymbol}{$\lozenge$}\examplex}
  {\popQED\endexamplex}
  
 \newenvironment{remark}
  {\pushQED{\qed}\renewcommand{\qedsymbol}{$\lozenge$}\remarkx}
  {\popQED\endremarkx}
  
  \newenvironment{definition}
  {\pushQED{\qed}\renewcommand{\qedsymbol}{$\lozenge$}\definitionx}
  {\popQED\enddefinitionx} 

    
%-------- Single symbols --------%
	
\DeclareSymbolFont{stmry}{U}{stmry}{m}{n}
\DeclareMathSymbol\fatsemi\mathop{stmry}{"23}

\DeclareFontFamily{U}{mathx}{\hyphenchar\font45}
\DeclareFontShape{U}{mathx}{m}{n}{
      <5> <6> <7> <8> <9> <10>
      <10.95> <12> <14.4> <17.28> <20.74> <24.88>
      mathx10
      }{}
\DeclareSymbolFont{mathx}{U}{mathx}{m}{n}
\DeclareFontSubstitution{U}{mathx}{m}{n}
\DeclareMathAccent{\widecheck}{0}{mathx}{"71}


%-------- Renewed commands --------%

\renewcommand{\ss}{\subseteq}

%-------- Other Macros --------%


\DeclarePairedDelimiter{\present}{\langle}{\rangle}
\DeclarePairedDelimiter{\copair}{[}{]}
\DeclarePairedDelimiter{\floor}{\lfloor}{\rfloor}
\DeclarePairedDelimiter{\ceil}{\lceil}{\rceil}
\DeclarePairedDelimiter{\corners}{\ulcorner}{\urcorner}
\DeclarePairedDelimiter{\ihom}{[}{]}

\DeclareMathOperator{\Hom}{Hom}
\DeclareMathOperator{\Mor}{Mor}
\DeclareMathOperator{\dom}{dom}
\DeclareMathOperator{\cod}{cod}
\DeclareMathOperator{\idy}{idy}
\DeclareMathOperator{\comp}{com}
\DeclareMathOperator*{\colim}{colim}
\DeclareMathOperator{\im}{im}
\DeclareMathOperator{\ob}{Ob}
\DeclareMathOperator{\Tr}{Tr}
\DeclareMathOperator{\el}{El}




\newcommand{\const}[1]{\texttt{#1}}%a constant, or named element of a set
\newcommand{\Set}[1]{\mathsf{#1}}%a named set
\newcommand{\ord}[1]{\mathsf{#1}}%an ordinal
\newcommand{\cat}[1]{\mathcal{#1}}%a generic category
\newcommand{\Cat}[1]{\mathbf{#1}}%a named category
\newcommand{\fun}[1]{\mathrm{#1}}%a function
\newcommand{\Fun}[1]{\mathit{#1}}%a named functor




\newcommand{\id}{\mathrm{id}}
\newcommand{\then}{\mathbin{\fatsemi}}

\newcommand{\cocolon}{:\!}


\newcommand{\iso}{\cong}
\newcommand{\too}{\longrightarrow}
\newcommand{\tto}{\rightrightarrows}
\newcommand{\To}[2][]{\xrightarrow[#1]{#2}}
\renewcommand{\Mapsto}[1]{\xmapsto{#1}}
\newcommand{\Tto}[3][13pt]{\begin{tikzcd}[sep=#1, cramped, ampersand replacement=\&, text height=1ex, text depth=.3ex]\ar[r, shift left=2pt, "#2"]\ar[r, shift right=2pt, "#3"']\&{}\end{tikzcd}}
\newcommand{\Too}[1]{\xrightarrow{\;\;#1\;\;}}
\newcommand{\from}{\leftarrow}
\newcommand{\ffrom}{\leftleftarrows}
\newcommand{\From}[1]{\xleftarrow{#1}}
\newcommand{\Fromm}[1]{\xleftarrow{\;\;#1\;\;}}
\newcommand{\surj}{\twoheadrightarrow}
\newcommand{\inj}{\rightarrowtail}
\newcommand{\wavyto}{\rightsquigarrow}
\newcommand{\lollipop}{\multimap}
\newcommand{\imp}{\Rightarrow}
\renewcommand{\iff}{\Leftrightarrow}
\newcommand{\down}{\mathbin{\downarrow}}
\newcommand{\fromto}{\leftrightarrows}
\newcommand{\tickar}{\xtickar{}}
\newcommand{\slashar}{\xslashar{}}
\newcommand{\card}{\,^{\#}}


\newcommand{\inv}{^{-1}}
\newcommand{\op}{^\tn{op}}

\newcommand{\tn}[1]{\textnormal{#1}}
\newcommand{\ol}[1]{\overline{#1}}
\newcommand{\ul}[1]{\underline{#1}}
\newcommand{\wt}[1]{\widetilde{#1}}
\newcommand{\wh}[1]{\widehat{#1}}
\newcommand{\wc}[1]{\widecheck{#1}}
\newcommand{\ubar}[1]{\underaccent{\bar}{#1}}



\newcommand{\bb}{\mathbb{B}}
\newcommand{\cc}{\mathbb{C}}
\newcommand{\nn}{\mathbb{N}}
\newcommand{\pp}{\mathbb{P}}
\newcommand{\qq}{\mathbb{Q}}
\newcommand{\zz}{\mathbb{Z}}
\newcommand{\rr}{\mathbb{R}}


\newcommand{\finset}{\Cat{Fin}}
\newcommand{\smset}{\Cat{Set}}
\newcommand{\smcat}{\Cat{Cat}}
\newcommand{\catsharp}{\Cat{Cat}^{\sharp}}
\newcommand{\ppolyfun}{\mathbb{P}\Cat{olyFun}}
\newcommand{\ccatsharp}{\mathbb{C}\Cat{at}^{\sharp}}
\newcommand{\ccatsharpdisc}{\mathbb{C}\Cat{at}^{\sharp}_{\tn{disc}}}
\newcommand{\ccatsharplin}{\mathbb{C}\Cat{at}^{\sharp}_{\tn{lin}}}
\newcommand{\ccatsharpdisccon}{\mathbb{C}\Cat{at}^{\sharp}_{\tn{disc,con}}}
\newcommand{\sspan}{\mathbb{S}\Cat{pan}}
\newcommand{\en}{\Cat{End}}

\newcommand{\List}{\Fun{List}}
\newcommand{\set}{\tn{-}\Cat{Set}}




\newcommand{\yon}{\mathcal{y}}
\newcommand{\poly}{\Cat{Poly}}
\newcommand{\Span}{\Cat{Span}}
\newcommand{\rect}{\Set{Rect}}
\newcommand{\polycart}{\poly^{\Cat{Cart}}}
\newcommand{\hh}{\mathcal{h}}
\newcommand{\ppoly}{\mathbb{P}\Cat{oly}}
\newcommand{\0}{\textsf{0}}
\newcommand{\1}{\tn{\textsf{1}}}
\newcommand{\tri}{\mathbin{\triangleleft}}
\newcommand{\triright}{\mathbin{\triangleright}}
\newcommand{\tripow}[1]{^{\tri #1}}
\newcommand{\indep}{\Fun{Indep}}
\newcommand{\duoid}{\Fun{Duoid}}
\newcommand{\jump}{\pi}
\newcommand{\jumpmap}{\ol{\jump}}
\newcommand{\founds}{\Yleft}


% lenses
\newcommand{\bigcocl}[2]{
     \begin{bmatrix}{\vphantom{f_f^f}#2} \\ {\vphantom{f_f^f}#1} \end{bmatrix}
}
\newcommand{\littlecocl}[2]{
     \begin{bsmallmatrix}{\vphantom{f}#2} \\ {\vphantom{f}#1} \end{bsmallmatrix}
}
\newcommand{\cocr}[2]{
  \relax\if@display
     \bigcocl{#1}{#2}
  \else
     \littlecocl{#1}{#2}
  \fi
}

\newcommand{\cocl}[1]{\overset{#1}{\frown}}

\newcommand{\hyper}[1]{
	\begin{tikzpicture}[y=.5cm, font=\scriptsize, baseline=(base)]
		\node[rotate=-15] (ar) {$\nearrow$};
		\coordinate[below=3pt] (base) at (ar);
		\node[above=-7pt of ar] (f) {$#1$};
	\end{tikzpicture}
}

\newcommand{\qand}{\quad\text{and}\quad}
\newcommand{\qqand}{\qquad\text{and}\qquad}
\newcommand{\qor}{\quad\text{or}\quad}
\newcommand{\qqor}{\qquad\text{or}\qquad}


\newcommand{\coto}{\nrightarrow}
\newcommand{\cofun}{{\raisebox{2pt}{\resizebox{2.5pt}{2.5pt}{$\setminus$}}}}

\newcommand{\coalg}{\tn{-}\Cat{Coalg}}

\newcommand{\bic}[2]{{}_{#1}\Cat{Comod}_{#2}}

% ---- Changeable document parameters ---- %

\linespread{1.1}
\allowdisplaybreaks
\setsecnumdepth{section}
\settocdepth{section}
\setlength{\parindent}{15pt}
\setcounter{tocdepth}{1}



%--------------- Document ---------------%
\begin{document}

\title{A summary of categorical structures in $\poly$}

\author{David I. Spivak}

%\date{Last updated: \today}

\maketitle

\begin{abstract}
In this document, we collect a list of categorical structures on the category $\poly$ of polynomial functors. There is no implied claim that this list is in any way complete. It includes: eight monoidal structures, seven of which are symmetric, two of which are closed, several of which distribute, several of which interact duoidally; it also includes a right-coclosure and two indexed left coclosures; it also includes various adjunctions of which $\poly$ is a part, including the free monad and cofree comonad and their interaction with various monoidal structures. 
\end{abstract}


\tableofcontents*
\bigskip

This document is only meant as a handy guide to the abundance of structure in $\poly$. In particular, we do not supply proofs, though we have written about most of these structures elsewhere; see \cite{spivak2022poly}, \cite{spivak2021functorial}, and \cite{spivak2022polynomial}. For everything else written here, one can consider it to be only conjecture, since in some cases we have not checked all the details. Hence, if someone proves something written here---something which has not been proven elsewhere---that person should be taken to have the professional ``priority'' and credit. In particular, we wish to claim no credit for originality of anything contained in this document, though most of it was discovered independently by the author, so we also do not supply additional references. We also make absolutely no claim of completeness.

\bigskip

A polynomial functor $p\colon\smset\to\smset$ is any functor that's isomorphic to a coproduct of representables
\[
p\coloneqq\sum_{I\in p(1)}\yon^{p[I]},
\]
and a morphism between them is a natural transformation; the associated category is denoted $\poly$. 
%For more, see \cref{chap.background}. 
We will typically use the above notation---which we call \emph{standard form}---appropriately modified for $p'$, $q$, etc., e.g.
\[
p'\coloneqq\sum_{I'\in p'(1)}\yon^{p'[I']}
\qqor
q\coloneqq\sum_{J\in q(1)}\yon^{q[J]}.
\]


%-------- Chapter --------%
\chapter{Coproducts and distributive monoidal structures}

The category $\poly$ has coproducts, given by the following formula:
\begin{equation}
p+q\coloneqq\sum_{I\in p(1)}\yon^{p[I]}+\sum_{J\in q(1)}\yon^{q[J]}
\end{equation}
If one wants the formula to be in standard form, use case logic in the exponent:
\begin{equation}
p+q\cong\sum_{X\in p(1)+q(1)}\yon^{\fontsize{8pt}{8pt}\selectfont
	\begin{cases}
  	p[X]&\tn{ if }X\in p(1)\\
  	q[X]&\tn{ if }X\in q(1)
	\end{cases}\normalsize
	}
\end{equation}

For any symmetric monoidal product $(I,\cdot)$ on $\smset$, there is a corresponding symmetric monoidal structure $(\yon^I,\odot)$ on $\poly$, where the monoidal product given as follows:%
\footnote{The symmetric monoidal structure $\odot$ on $\poly$ is the Day convolution of the $\cdot$ structure on $\smset$.}
\begin{equation}
p\odot q\coloneqq\sum_{(I,J)\in p(1)\times q(1)}\yon^{p[I]\cdot q[J]}.
\end{equation}
It always distributes over $+$:
\begin{equation}
p\odot(q_1+q_2)\cong (p\odot q_1)+(p\odot q_2).
\end{equation}

We know of three symmetric monoidal products on $\smset$, namely $+$, $\times$, and $A\vee B\coloneqq A+(A\times B)+B$,%
\footnote{I learned this $\vee$ monoidal structure from Richard Garner.}
which has unit $0$. These lead to the following symmetric monoidal products on $\poly$:
\begin{align}
	p\times q&\coloneqq\sum_{(I,J)\in p(1)\times q(1)}\yon^{p[I]+ q[J]}\\
	p\otimes q&\coloneqq\sum_{(I,J)\in p(1)\times q(1)}\yon^{p[I]\times q[J]}\\
	p\ovee q&\coloneqq\sum_{(I,J)\in p(1)\times q(1)}\yon^{p[I]\vee q[J]}\label{eqn.ovee}
\end{align}
The first two are highly relevant: the first ($\times$) is the categorical product, and the second ($\otimes$) is the \emph{Dirichlet} product, both of which come up often in practice. So far we have not seen a use for $\ovee$.

\chapter{Monoidal closures}

Both $\times$ and $\otimes$ have associated closures, given by
\begin{align}
  q^p&\coloneqq \prod_{I\in p(1)}q(p[I]+\yon)\label{eqn.cart_cl}\\
  [p,q]&\coloneqq\prod_{I\in p(1)}q(p[I]\times\yon)
\end{align}
These satisfy the defining universal properties:
\begin{align}
  \poly(p',q^p)&\cong\poly(p'\times p,q)\\
  \poly(p',[p,q])&\cong\poly(p'\otimes p,q)
\end{align}
The first one, $q^p$, is the Cartesian closure; its standard form is not particularly enlightening. The second one, $[p,q]$, is what we call the \emph{Dirichlet closure}; it has a very nice standard form:
\[
[p,q]\cong\sum_{\varphi\in\poly(p,q)}\yon^{\sum\limits_{I\in p(1)}q[\varphi_1I]}
\]
where $\varphi_1\colon p(1)\to q(1)$ is the $1$-component of the natural transformation $\varphi$.

The cartesian closure satisfies all the usual arithmetic properties:
\begin{gather}
	p^0\cong1,\quad
	p^{q_1+q_2}\cong (p^{q_1})\times(p^{q_2}),\quad
	1^p\cong 1,\quad
	(p_1\times p_2)^q\cong p_1^q\times p_2^q,\quad
	p^1\cong p,\quad
	p^{q\times r}\cong (p^q)^r
\end{gather}
The Dirichlet closure has only some of the analogous properties:
\begin{gather}
	[0,p]\cong1,\qquad
	[q_1+q_2,p]\cong [q_1,p]\times[q_2,p],\qquad
	[\yon,p]\cong p,\qquad
	[p\otimes q,r]\cong[p,[q,r]]
\end{gather}

We also have $[\yon^A,\yon]\cong A\yon$ and $[A\yon,\yon]\cong\yon^A$ for any $A\in\smset$.


%-------- Chapter --------%
\chapter{Substitution product}

There is a nonsymmetric monoidal structure on $\poly$ given by composing polynomials. Its unit is $\yon$ and its monoidal product is given by the following formula:
\begin{equation}
p\tri q\coloneqq\sum_{I\in p(1)}\sum_{J\colon p[I]\to q(1)}\yon^{\sum\limits_{i\in p[I]}q[Ji]}
\end{equation}

This monoidal structure is left distributive with respect to $+$ and $\times$:
\begin{align}
	(p+p')\tri q\cong (p\tri q)+(p'\tri q)\label{eqn.comp_plus}\\
	(p\times p')\tri q\cong (p\tri q)\times(p'\tri q)\label{eqn.comp_times}
\end{align}
The monoidal structure $\tri$ preserves all limits in the left-variable, and it preserves connected limits in the right variable. If $p$ is finitary (all $p[I]$ are finite) then for any diagram $q\colon J\to\poly$ with $J\in\smcat$ filtered, the natural map
\begin{equation}
\colim_{j\in J}\poly(p,q_j)\to\poly(p,\colim_{j\in J}q_j)
\end{equation}
is an isomorphism. For any filtered diagram $p\colon J\to\polycart$ of cartesian maps and any $q\in\poly$, the natural map
\begin{equation}
\poly(\colim_{j\in J}p_j,q)\to\lim_{j\in J}\poly(p_j,q)
\end{equation}
is an isomorphism.

The monoidal structure $\tri$ is duoidal with $\otimes$, i.e.\ there is a natural transformation
\begin{equation}
	(p_1\tri p_2)\otimes(q_1\tri q_2)\too(p_1\otimes q_1)\tri(p_2\tri q_2)
\end{equation}
satisfying the usual laws.

The identity functor $\poly\to\poly$ is lax monoidal as a functor $(\poly,\yon,\tri)\to(\poly,\yon,\otimes)$, i.e.\ for every $p,q$ a map of polynomials
\begin{equation}
	p\otimes q\to p\tri q
\end{equation}
satisfying the usual laws.


Comonoids with respect to $\tri$ are exactly categories. Monoids with respect to $\tri$ generalize plain operads. Bicomodules with respect to $\tri$ are parametric right adjoints between copresheaf categories.


%-------- Chapter --------%
\chapter{Coclosures for substitution and Dirichlet product}

For any $p,q\in\poly$, define
\begin{equation}
\cocr{p}{p'}\coloneqq\sum_{I\in p(1)}\yon^{p'\tri (p[I])}
\end{equation}
This satisfies the following universal property of a right-coclosure:%
\footnote{I learned the right-coclosure from Josh Meyers.}
\begin{equation}
	\poly\left(\cocr{p}{p'},q\right)\cong\poly\left(p,q\tri p'\right).
\end{equation}
It interacts with $\otimes$ via natural maps
\begin{equation}
	\cocr{p_1\otimes p_2}{q_1\otimes q_2}\to\cocr{p_1}{q_1}\otimes\cocr{p_2}{q_2}
\end{equation}

For any set $A$, we have $\yon^A\times p\cong\cocr{p}{\yon^A}$ by \eqref{eqn.cart_cl}. More importantly we have
\begin{equation}\label{eqn.left_adjoints}
  \cocr{p}{A\yon}\cong p\tri\yon^A
  \qqand
  A\yon\tri\cocr{p}{q}\cong\cocr{A\yon\tri p}{q}
\end{equation}
We include \eqref{eqn.left_adjoints} because these equations generalize to bicomodules---namely $A\yon$ and $\yon^A$ can be replaced by any pair of adjoint bicomodules---even though that is beyond the scope of this document. Indeed, a great deal of the structures in this document generalize.

For any polynomial monad $(m,\eta,\mu)$, the corresponding Lawvere theory is the $\tri$-comonad (category)
\begin{equation}
	\text{Law}(m)\cong\cocr{u}{u\tri m}
\end{equation}
where $u\coloneqq\sum_{N\in\nn}\yon^N$. In other words, $\cocr{u}{u\tri m}$ is a compact representation of what usually has a long description: the full subcategory of (the opposite of (the Kleisli category for $m$ on $\smset$)), spanned by the finite sets.

There is also an \emph{indexed} left $\tri$-coclosure. That is, for any function $f\colon p(1)\to q(1)$, define
\begin{equation}
	p\cocl{f}q\coloneqq \sum_{I\in p(1)}q[fI]\,\yon^{p[I]}.
\end{equation}
This satisfies the following indexed-adjunction formula:
\begin{equation}
	\poly(p,q\tri r)\cong\sum_{f\colon p(1)\to q(1)}\poly(p\cocl{f}q,r)
\end{equation}
Given $\varphi\colon p\to q\tri r$, we denote its image by $(\varphi.1,\varphi.2)$, where $\varphi.1\colon p(1)\to q(1)$ and $\varphi.2\colon (p\cocl{\varphi.1}q)\to r$.

The indexed coclosure is a very well-behaved structure.
\begin{align}
	p\cocl{!}\yon^A&\cong Ap\\
	p\cocl{\id}p&\cong\dot{p}\yon\label{eqn.deriv}\\
	(p+p')\cocl{(f,f')}q&\cong(p\cocl{f}q)+(p'\cocl{f'}q)\\
	p\cocl{(f,g)}(q\times q')&\cong(p\cocl{f}q)+(p\cocl{g}q')\\
	(p\cocl{f}q)\times p'&\cong(p\times p')\cocl{(p\times!)\then f}q\\
	(p\cocl{f}q)\tri p'&\cong(p\tri p')\cocl{(p\tri!)\then f}q\\
	p\cocl{f}(q\tri r)&\cong(p\cocl{f.1}q)\cocl{f.2}r\\
	(p\otimes p')\cocl{f\tri f'}(q\otimes q')&\cong(p\cocl{f}q)\otimes(p'\cocl{f'}q')\\
\end{align}
In \eqref{eqn.deriv}, $\dot{p}$ is the derivative of $p$. 

There is a functor
\begin{align}
	\frown\colon\poly&\to\Span(\poly)\\
	p&\mapsto\dot{p}\yon\\
	(p\To{\varphi}q)&\mapsto\big(\dot{p}\yon\from(p\cocl{\varphi_1}q)\to\dot{q}\yon\big)
\end{align}\goodbreak
That is, for any $p\To{\varphi}q\To{\psi}r$, there is an isomorphism
\begin{equation}
	(p\cocl{\varphi_1}q)\times_{\dot{q}\yon}(q\cocl{\psi_1}r)\cong p\cocl{\varphi_1\then\psi_1}r
\end{equation}
This functor is strong monoidal with respect to both $+$ and $\otimes$. One may think of it as representing the bundle view of $\poly$. Indeed, for any $p\in\poly$ we have a counit map $\epsilon_p\colon\dot{p}\yon\to p$, and given $\varphi\colon p\to q$, there is an induced span
\begin{equation}
\begin{tikzcd}
	\dot{p}\yon\ar[d]&p\cocl{\varphi_1}q\ar[d]\ar[l]\ar[r]&\dot{q}\yon\ar[d]\\
	p\ar[r, equal]&p\ar[r,"\varphi"']&q
\end{tikzcd}
\end{equation}
and evaluating at $1$ returns the usual bundle picture, since $(p\cocl{\varphi_1}q)(1)\cong p(1)\times_{q(1)}\dot{q}(1)$.

There is an indexed coclosure for $\otimes$.%
\footnote{I learned about this indexed coclosure $\hyper{}$ for $\otimes$ from Nelson Niu.}
For any function $f\colon p(1)\to q(1)$, define
\begin{equation}
p \hyper{f} q\coloneqq\sum_{I\in p(1)}\yon^{\left(p[I]^{q[fI]}\right)}
\end{equation}
This satisfies the following indexed-adjunction formula:
\begin{equation}
	\poly(p,q\otimes r)\cong\sum_{f\colon p(1)\to q(1)}\poly(p\hyper{f}q,r)
\end{equation}
It also satisfies the following:
\begin{align}
	(p_1+p_2)\hyper{(f_1,f_2)}q&\cong(p_1\hyper{f_1}q)+(p_2\hyper{f_2}q)\\
	p\hyper{(f_1,f_2)}(q_1\otimes q_2)&\cong (p\hyper{f_1}q_1)\hyper{f_2}q_2
\end{align}

%-------- Chapter --------%
\chapter{Other monoidal structures}

Of the following three monoidal structures, only the first one ($\vee$) appears to be interesting; it will appear prominently in the section on free monads; e.g.\ see \eqref{eqn.vees}.

There is a symmetric monoidal structure on $\poly$ with unit $0$ and product given by
\begin{equation}
  p\vee q\coloneqq p+(p\otimes q)+q.
\end{equation}
The functor $(p\mapsto p\yon)$ is strong monoidal $(\poly,0,\vee)\to(\poly,\yon,\otimes)$, i.e. there is a natural isomorphism
\begin{equation}
	(p+\yon)\otimes(q+\yon)\cong (p\vee q)+\yon.
\end{equation}
The identity functor $\poly\to\poly$ has a lax monoidal structure,
\begin{equation}
	p+q\to p\vee q.
\end{equation}
There are two duoidal structures for $\vee$, one with $\tri$ and one with $\otimes$:
\begin{align*}
	(p_1\tri p_2)\vee(q_1\tri q_2)&\to(p_1\vee q_1)\tri(p_2\vee q_2)\\
	(p_1\otimes p_2)\vee(q_1\otimes q_2)&\to(p_1\vee q_1)\otimes(p_2\vee q_2)
\end{align*}

There are two other symmetric monoidal structures we know of, though we currently know of no interesting uses of them, so we do not even give them symbols. We are simply using the fact that if a symmetric monoidal product distributes over $+$ then we can follow the pattern we learned from Garner; see \eqref{eqn.ovee}.
\begin{align}
	(p,q)&\mapsto p+(p\times q)+q\\
	(p,q)&\mapsto p+(p\ovee q)+q
\end{align}
Their units are both $0$. The main purpose of this section was to introduce $\vee$, and to simply mention that we know of eight total monoidal products on $\poly$.


%-------- Chapter --------%
\chapter{Adjunctions, monads, and comonads on $\poly$}

There are adjunctions between $\poly$ and $\smset$ and between $\poly$ and $\smset\op$, each labeled by where they send $p\in\poly$ and $A\in\smset$:
\begin{equation}\label{eqn.adjunctions}
\begin{tikzcd}[column sep=60pt]
  \poly
  	\ar[from=r, shift left=8pt, "A" description]
		\ar[from=r, shift left=-24pt, "A\yon"']&
  \smset
  	\ar[from=l, shift right=24pt, "p(0)"']
  	\ar[from=l, shift right=-8pt, "p(1)" description]
	\ar[from=l, phantom, "\scriptstyle\bot"]
	\ar[from=l, phantom, shift left=16pt, "\scriptstyle\bot"]
	\ar[from=l, phantom, shift right=16pt, "\scriptstyle\bot"]
\end{tikzcd}
\hspace{1in}
\begin{tikzcd}[column sep=60pt]
	\poly
  	\ar[from=r, shift left=8pt, "\yon^A"]
		\ar[from=r, phantom, "\scriptstyle\bot"]
  	&
	\smset\op
		\ar[from=l, shift right=-8pt, "\Gamma(p)"]
\end{tikzcd}
\end{equation}
We write $A$ to denote $A\yon^0$. All the leftward maps in \eqref{eqn.adjunctions} are fully faithful, and all the rightward maps are essentially surjective. The leftward maps from $\smset$ are also rig monoidal
\begin{align}
	A\yon+B\yon&\cong(A+B)\yon&
	A\yon\otimes B\yon&\cong(A\times B)\yon\\
	A\yon^0+B\yon^0&\cong(A+B)\yon^0&
	A\yon^0\otimes B\yon^0&\cong(A\times B)\yon^0
\end{align}
The rightward maps to $\smset$ are also distributive monoidal; indeed by \cref{eqn.comp_plus,eqn.comp_times}, the following hold for any $A\in\smset$, in particular for $A\in\{0,1\}$.
\begin{equation}
	p(A)+q(A)\cong(p+q)(A)
	\qqand
	p(A)\times q(A)\cong(p\times q)(A)
\end{equation}
The functor $\Gamma$ preserves coproducts, since coproducts in $\smset\op$ are products in $\smset$:
\begin{equation}
	\Gamma(p+q)\cong\Gamma(p)\times\Gamma(q)
\end{equation}

We can say more about $\Gamma$ if we package it with $p\mapsto p(1)$; i.e.\ there is an interesting functor
\begin{equation}\label{eqn.rectangle}
\begin{tikzcd}[column sep=60pt]
	\poly
  	\ar[from=r, shift left=8pt, "B\yon^A"]
		\ar[from=r, phantom, "\scriptstyle\bot"]
  	&
	\smset\times\smset\op
		\ar[from=l, shift right=-8pt, "{\big(p(1)\,,\,\Gamma(p)\big)}"]
\end{tikzcd}
\end{equation}
This functor is comonadic. It is also strong monoidal with respect to coproduct and $\otimes$. To say so requires us to mention that $\smset\times\smset\op$ has a coproduct structure and to specify an $\otimes$ structure on $\smset\times\smset\op$; they are given as follows:
\begin{align}
 (A_1,B_1)+(A_2,B_2)&\coloneqq(A_1+A_2\,,\,B_1\times B_2)\\
  (A_1,B_1)\otimes(A_2,B_2)&\coloneqq(A_1\times A_2\,,\,B_1^{A_2}\times B_2^{A_1})
\end{align}
Returning to our point, the left adjoint in \eqref{eqn.rectangle} is rig monoidal (preserves $+$ and $\otimes$):
\begin{align}
	(p(1),\Gamma(p))+(q(1),\Gamma(q))&\cong((p+q)(1),\Gamma(p+q))\\
	(p(1),\Gamma(p))\otimes(q(1),\Gamma(q))&\cong((p\otimes q)(1),\Gamma(p\otimes q))
\end{align}

There is a cofree $\tri$-comonoid (often called the free comonad) construction on $\poly$:
\begin{equation}
\begin{tikzcd}[column sep=60pt]
	\Cat{Comon}(\poly)
  	\ar[from=r, shift left=8pt, "\mathfrak{c}"]
		\ar[from=r, phantom, "\scriptstyle\bot"]
  	&
	\poly
		\ar[from=l, shift right=-8pt, "U"]
\end{tikzcd}
\end{equation}
where $U$ is the forgetful functor that sends a comonoid to its carrier. The cofree comonoid $\mathfrak{c}_p$ on $p\in\poly$ is carried by the colimit
\begin{equation}
\mathfrak{c}_p\coloneqq\lim(\cdots\to p_{n+1}\To{f_n} p_n\to\cdots\to p_1\To{f_0} p_0)
\end{equation}
where the $p_k$ are defined inductively as follows:
\begin{align}
	p_0&\coloneqq\yon&p_{k+1}&\coloneqq (p\tri p_k)\times\yon\\
\intertext{and the maps $f_k\colon p_{k+1}\to p_k$ are defined inductively as follows:}
	p_1=p\times\yon&\To{f_0\coloneqq\pi}\yon=p_0&p_{k+2}=(p\tri p_{k+1})\times\yon&\To{f_{k+1}\coloneqq(p\tri f_k)\times\yon}(p\tri p_{k})\times\yon=p_{k+1}
\end{align}
The map $\mathfrak{c}\to\yon$ is easy and the map $\mathfrak{c}\to\mathfrak{c}\tri\mathfrak{c}$ is given by maps $p_{m+n}\to p_m\tri p_n$, which themselves arise by induction on $n$, properties of $\frown$, and maps $p\tri p_m\to p_m\tri p$ that  arise by induction on $m$.

The cofree comonad is lax monoidal with respect to $\otimes$:
\begin{equation}
  \mathfrak{c}_p\otimes\mathfrak{c}_q\to\mathfrak{c}_{p\otimes q}.
\end{equation}

There is a free $\tri$-monoid (often called the free monad) construction on $\poly$
\begin{equation}
\begin{tikzcd}[column sep=60pt]
	\poly
  	\ar[from=r, shift left=8pt, "U"]
		\ar[from=r, phantom, "\scriptstyle\bot"]
  	&
	\Cat{Mon}(\poly)
		\ar[from=l, shift right=-8pt, "\mathfrak{m}"]
\end{tikzcd}
\end{equation}
where $U$ is the forgetful functor that sends a monoid to its carrier. The free $\tri$-monoid $\mathfrak{m}_p$ on $p\in\poly$ is constructed in two steps. For any finitary polynomial $q$---one for which each $q[J]$ is a finite set---the free $\tri$-monoid on $q$ can be constructed in one step, namely as the colimit:
\begin{equation}
	\mathfrak{m}_q\coloneqq\colim(\cdots\from q_{n+1}\From{g_n}q_n\from\cdots\from q_1\From{g_0} q_0)
\end{equation}
where the $q_k$ are defined inductively as follows:
\begin{align}
	q_0&\coloneqq 0&q_{k+1}&\coloneqq \yon+(q\tri q_k)\\
\intertext{and the maps $g_k\colon q_{k}\to q_{k+1}$ are defined inductively as follows:}
	q_0=0&\To{f_0\coloneqq!}\yon+q\tri 0=q_1&q_{k+1}=\yon+(q\tri q_{k})&\To{g_{k+1}\coloneqq\yon+(q\tri g_k)}\yon+(q\tri q_{k+1})=q_{k+2}
\end{align}
An arbitrary polynomial $p$ can be written as the filtered limit of its vertical projections $p\to p^{j}$ onto finitary polynomials: that is, for each sum-component $I\in p(1)$, just replace $p[I]$ by an arbitrary finite subset of it, and take the limit of all such things under component-wise projection. That limit is isomorphic to $p$, and we write $p\cong\lim_{j\in J_p}p^{(j)}$. By construction, each of these $p^{(j)}$ is finitary, so let $\mathfrak{m}_p^{(j)}\coloneqq\mathfrak{m}_{p^{(j)}}$ denote the free monad on it, constructed as above. Then finally we construct the free monad $\mathfrak{m}_p$ on $p$ as their filtered limit:
\begin{equation}
	\mathfrak{m}_p\coloneqq\lim_{j\in J_p}\mathfrak{m}_p^{(j)}.
\end{equation}

The free monad monad $\mathfrak{m}\colon\poly\to\poly$ is not lax monoidal with respect to $\otimes$ on both sides, but it is lax monoidal with $\vee$ in many ways:
\begin{align}\label{eqn.vees}
	\mathfrak{m}&\colon(\poly,0,\vee)\to(\poly,0,+)\\
	\mathfrak{m}&\colon(\poly,0,\vee)\to(\poly,\yon,\otimes)\\
	\mathfrak{m}&\colon(\poly,0,\vee)\to(\poly,\yon,\tri)\\
	\mathfrak{m}&\colon(\poly,0,\vee)\to(\poly,0,\vee)
\end{align}
That is, there are natural and coherent maps
\begin{align}
	\mathfrak{m}_p+\mathfrak{m}_q&\to\mathfrak{m}_{p\vee q}\\
	\mathfrak{m}_p\otimes\mathfrak{m}_q&\to\mathfrak{m}_{p\vee q}\\
	\mathfrak{m}_p\tri\mathfrak{m}_q&\to\mathfrak{m}_{p\vee q}\\
	\mathfrak{m}_p\vee\mathfrak{m}_q&\to\mathfrak{m}_{p\vee q}
\end{align}




%-------- Chapter --------%
%\clearpage
%\appendix
%\chapter{Background}\label{chap.background}
%
%
%The main purpose of this short section is to fix notation and provide a brief overview of polynomial functors in one variable. More extensive background material can be found in \cite{spivak2022poly} and \cite{kock2012polynomial}. 
%
%\begin{definition}[Polynomial functor]\label{def.poly}
%Given a set $S$, we denote the corresponding representable functor by
%\[\yon^S\coloneqq\smset(S,-)\colon\smset\to\smset,\]
%e.g. $\yon^S(X)\coloneqq X^S$. In particular $\yon=\yon^1$ is the identity and $\yon^0=1$ is constant singleton.
%
%A \emph{polynomial functor} is a functor $p\colon\smset\to\smset$ that is isomorphic to a sum of representables, i.e.\ for which there exists a set $T$, a set $p[t]\in\smset$ for each $t\in T$, and an isomorphism
%\[
%p\cong\sum_{t\in T}\yon^{p[t]}.
%\]
%We call $T$ the set of \emph{$p$-types}, and for each type $t\in T$ we call $p[t]$ the set of \emph{$p$-terms of type $t$}.%
%
%A \emph{morphism} $\varphi\colon p\to p'$ of polynomial functors is simply a natural transformation between them. It is called \emph{cartesian} if for every map of sets $f\colon S\to S'$, the naturality square
%\[
%\begin{tikzcd}
%  p(S)\ar[r, "p(f)"]\ar[d, "\varphi(S)"']&p(S)\ar[d, "\varphi(S')"]\\
%  p'(S')\ar[r, "p'(f)"']&p'(S')\ar[ul, phantom, very near end, "\lrcorner"]
%\end{tikzcd}
%\]
%is a pullback of sets. We denote the category of polynomial functors by $\poly$ and the wide subcategory of polynomials and cartesian maps by $\polycart$.\end{definition}
%
%For any polynomial $p=\sum_{t\in T}\yon^{p[t]}$, we have a canonical isomorphism $p(1)\cong T$; hence from now on we will denote $p$ by
%\begin{equation}\label{eqn.poly_notation}
%p=\sum_{I\in p(1)}\yon^{p[I]}
%\end{equation}
%so that the $p$-types are written with upper-case letters, e.g. $I\in p(1)$, and its terms are written with corresponding lower-case letters, e.g. $i\in p[I]$.
%
%\begin{remark}\label{rem.positions_and_directions}
%Using the Yoneda lemma, we can understand a morphism $p\to q$ in $\poly$ to consist of two parts $(\varphi_1,\varphi^\sharp)$ as follows:
%\begin{equation}\label{eqn.mapsharp}
%  \varphi_1\colon p(1)\to q(1)
%  \qqand
%  \varphi^\sharp_I\colon q[J]\to p[I],
%\end{equation}
%where $J\coloneqq\varphi_1(I)$. That is, $\varphi_1$ is a function from $p$-types to $q$-types, and $\varphi^\sharp_i$ is a function on terms that \emph{depends on a choice of position $I\in p(1)$}. We refer to $\varphi_1$ as the \emph{on-types function} and to $\varphi^\sharp$ as the \emph{backwards on-terms} function.
%
%One can check that a map $\varphi\colon p\to q$ is cartesian iff the backwards-on-terms function $\varphi^\sharp_I$ is a bijection $p[I]\cong q[\varphi_1I]$ for each type $I\in p(1)$.
%\end{remark}
%
%


\section*{Acknowledgments}
This material is based upon work supported by the Air Force Office of Scientific Research under award number FA9550-20-1-0348.

\printbibliography 
\end{document}
